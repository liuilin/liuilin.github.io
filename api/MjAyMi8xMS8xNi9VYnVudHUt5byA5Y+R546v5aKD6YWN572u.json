{"title":"Ubuntu-开发环境配置","date":"2022-11-16T10:30:28.834Z","date_formatted":{"ll":"2022年11月16日","L":"2022/11/16","MM-DD":"11-16"},"link":"2022/11/16/Ubuntu-开发环境配置","comments":true,"updated":"2022-11-16T02:30:28.834Z","content":"<h1 id=\"ubuntu-开发环境配置\">Ubuntu 开发环境配置<a title=\"#ubuntu-开发环境配置\" href=\"#ubuntu-开发环境配置\"></a></h1>\n<h2 id=\"dev-on-windows-with-wsl\">Dev on Windows with WSL<a title=\"#dev-on-windows-with-wsl\" href=\"#dev-on-windows-with-wsl\"></a></h2>\n<p><a href=\"https://dowww.spencerwoo.com/3-vscode/3-6-nodejs.html#%E5%AE%89%E8%A3%85-node-js\" target=\"_blank\">Node.js | Dev on Windows with WSL</a></p>\n<h2 id=\"配置-shell-基础环境\">配置 Shell 基础环境<a title=\"#配置-shell-基础环境\" href=\"#配置-shell-基础环境\"></a></h2>\n<ol>\n<li>\n<p><a href=\"https://dowww.spencerwoo.com/2-cli/2-2-shell.html#%E6%9B%B4%E6%8D%A2%E8%BD%AF%E4%BB%B6%E6%BA%90%E9%95%9C%E5%83%8F\" target=\"_blank\">Shell 环境，更换软件镜像源| Dev on Windows with WSL</a></p>\n</li>\n<li>\n<p><a href=\"https://jiayaoo3o.github.io/2020/06/23/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1WSL2%E7%9A%84%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE/\" target=\"_blank\">记录一次 WSL2 的网络代理配置 | jiayaoO3O’s Blog</a></p>\n<blockquote>\n<p>v2ray 要开启允许局域网连接</p>\n</blockquote>\n</li>\n<li>\n<p>安装 zsh</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install zsh -y</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>echo $0 # 查看当前 shell 类型</p>\n</blockquote>\n</li>\n<li>\n<p>install oh-my-zsh</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sh -c <span class=\"string\">&quot;<span class=\"subst\">$(curl -fsSL -x socks5://$(ip route | grep default | awk &#x27;&#123;print $3&#125;&#x27;)</span>:10808 https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>TODO 把 GitHub 上的 .zshrc 文件下载下来覆盖</p>\n<p><strong>然后一定要新开窗口，不然配置不生效</strong></p>\n</li>\n</ol>\n<h2 id=\"安装-mackup-备份还原-dotfiles-配置\">安装 mackup 备份还原 dotfiles 配置<a title=\"#安装-mackup-备份还原-dotfiles-配置\" href=\"#安装-mackup-备份还原-dotfiles-配置\"></a></h2>\n<p><a href=\"https://github.com/lra/mackup\" target=\"_blank\">lra/mackup: Keep your application settings in sync (OS X/Linux)</a></p>\n<p>创建用户：sudo adduser xxx</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/58690128\" target=\"_blank\">curl 设置代理 - 知乎</a></p>\n<ol>\n<li>\n<p>Ubuntu-22.04 本身就自带 Python3(3.10.4) 最新版，无需安装</p>\n</li>\n<li>\n<p><a href=\"https://pip.pypa.io/en/stable/installation/\" target=\"_blank\">Installation - pip documentation v22.0.4 安装最新版 pip</a></p>\n<p>采用 <code>get-pip.py</code> 脚本的方式</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># run the following command to download the get-pip.py file，下面 $(ip route | grep default | awk &#x27;&#123;print $3&#125;&#x27;) 获取 WSL 动态 IP，用于 v2ray 代理</span></span><br><span class=\"line\">curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py</span><br><span class=\"line\"><span class=\"comment\"># To install PIP type in the following</span></span><br><span class=\"line\">python3 get-pip.py</span><br><span class=\"line\"><span class=\"comment\"># WARNING: The script wheel is installed in &#x27;~/.local/bin&#x27; which is not on PATH.</span></span><br><span class=\"line\"><span class=\"comment\"># 此时 pip 没有环境变量，所以命令未生效。使用 add alias 来调用</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> pip=<span class=\"string\">&#x27;~/.local/bin/pip3&#x27;</span></span><br><span class=\"line\">pip -V</span><br></pre></td></tr></table></figure>\n<p>如果是 zsh 的话（想要一直生效的话），还需要把 alias 配置到 .zshrc 里面</p>\n<blockquote>\n<p>note: 不要用 Ubuntu 自带的 apt 方式安装，因为 Python3 是最新版而 apt 安装出来的较低版本，会导致与 Python 最新版那边不兼容，从而 pip 安装软件时会报错</p>\n<p><a href=\"https://stackoverflow.com/questions/70431655/importerror-cannot-import-name-html5lib-from-pip-vendor-usr-lib-python3\" target=\"_blank\">python - ImportError: cannot import name ‘html5lib’ from ‘pip._vendor’ (/usr/lib/python3/dist-packages/pip/_vendor/<strong>init</strong>.py) - Stack Overflow</a></p>\n<p><a href=\"https://stackoverflow.com/questions/69503329/pip-is-not-working-for-python-3-10-on-ubuntu/69527217#69527217\" target=\"_blank\">Pip is not working for Python 3.10 on Ubuntu - Stack Overflow</a></p>\n<p>This is likely caused by a too old system <code>pip</code> version.</p>\n<p>Install the latest with:<br>\n<code>curl -sS https://bootstrap.pypa.io/get-pip.py | python3.10</code></p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-python-3-and-set-up-a-programming-environment-on-ubuntu-22-04\" target=\"_blank\">How To Install Python 3 and Set Up a Programming Environment on Ubuntu 22.04 | DigitalOcean</a></p>\n</blockquote>\n</li>\n<li>\n<p>install mackup with pip</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Install Mackup with PIP</span></span><br><span class=\"line\">pip install --upgrade mackup</span><br><span class=\"line\"><span class=\"built_in\">alias</span> mackup=<span class=\"string\">&#x27;~/.local/bin/mackup&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Launch it and back up your files</span></span><br><span class=\"line\">mackup backup</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>下载 mackup 配置文件并更新</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 代理下载文件到当前目录</span></span><br><span class=\"line\">curl -x socks5://WSL 代理 IP:10808 https://github.com/liuilin/dotfiles/raw/master/.mackup.cfg -OL</span><br><span class=\"line\"><span class=\"comment\"># 修改配置文件</span></span><br><span class=\"line\">sudo vim .mackup.cfg</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/4604663/download-single-files-from-github\" target=\"_blank\">git - Download single files from GitHub - Stack Overflow</a></p>\n<p>You can use <code>curl</code> this way:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -OL https://raw.githubusercontent.com/&lt;username&gt;/&lt;repo-name&gt;/&lt;branch-name&gt;/path/to/file</span><br></pre></td></tr></table></figure>\n<p><code>O</code> means that curl downloads the content<br>\n<code>L</code> means that curl follows the redirection</p>\n</blockquote>\n</li>\n<li>\n<p>恢复所有备份的配置</p>\n<p><a href=\"https://drive.google.com/drive/folders/1LrGZMV4aQYLIGTwoHodb3eJ1GE3JbqJV\">https://drive.google.com/drive/folders/1LrGZMV4aQYLIGTwoHodb3eJ1GE3JbqJV</a></p>\n<p>修改当前用户的全局设置，使 mackup 环境变量生效</p>\n<p><strong>不要恢复 .bash_logout 文件！！！否则会报错</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim ~/.bashrc</span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=/home/daniel/.<span class=\"built_in\">local</span>/bin/mackup:<span class=\"variable\">$PATH</span></span><br><span class=\"line\"><span class=\"built_in\">source</span> .bashrc</span><br><span class=\"line\">sudo vim .mackup.cfg</span><br><span class=\"line\"><span class=\"comment\"># 修改存储路径 path = /mnt/c/Users/liuqiang/</span></span><br><span class=\"line\"><span class=\"comment\"># TODO 考虑安装完 zsh 再 mackup restore 恢复配置，不然会被覆盖</span></span><br><span class=\"line\">mackup restore</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>Google Drive 自动同步文件夹 /mnt/c/Users/Daniel/dotfiles</p>\n</li>\n<li>\n<p>todo 运行代理加速</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 运行 .zshrc 里面配置的命令来自动配置全局代理</span></span><br><span class=\"line\">proxy</span><br><span class=\"line\"><span class=\"comment\"># 查看 http.https://github.com.proxy 配置是否生效，q：退出交互界面</span></span><br><span class=\"line\">git config -l</span><br></pre></td></tr></table></figure>\n<p>配置 mackup 环境变量</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim ~/.zshrc</span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=/home/daniel/.<span class=\"built_in\">local</span>/bin/mackup:<span class=\"variable\">$PATH</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<blockquote>\n<p><a href=\"https://spencerwoo.com/blog/how-i-manage-my-dotfiles\" target=\"_blank\">Yadm：我是如何同步并管理我的 Dotfiles 的？ - Spencer’s Blog</a></p>\n</blockquote>\n<h3 id=\"安装-oh-my-zsh-插件\">安装 oh-my-zsh 插件<a title=\"#安装-oh-my-zsh-插件\" href=\"#安装-oh-my-zsh-插件\"></a></h3>\n<ol>\n<li>\n<p>插件 autojump：<a href=\"https://github.com/wting/autojump#\" target=\"_blank\">wting/autojump: A cd command that learns - easily navigate directories from the command line</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install autojump</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>插件 zsh-autosuggestions：<a href=\"https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md#oh-my-zsh\" target=\"_blank\">zsh-autosuggestions/INSTALL.md at master · zsh-users/zsh-autosuggestions</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class=\"variable\">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>插件 zsh-syntax-highlighting：<a href=\"https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md\" target=\"_blank\">zsh-syntax-highlighting/INSTALL.md at master · zsh-users/zsh-syntax-highlighting</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class=\"variable\">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>安装主体模板：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> --depth=1 https://github.com/romkatv/powerlevel10k.git <span class=\"variable\">$&#123;ZSH_CUSTOM:-<span class=\"variable\">$HOME</span>/.oh-my-zsh/custom&#125;</span>/themes/powerlevel10k</span><br></pre></td></tr></table></figure>\n<ul>\n<li><a href=\"https://www.nerdfonts.com/font-downloads\" target=\"_blank\">Windows 安装 Nerd Font（Sauce Code Pro Nerd Font）字体</a>：解压到 C:\\Windows\\Fonts 路径下</li>\n<li>主体配置：One half dark</li>\n<li>背景不透明度：66</li>\n</ul>\n<blockquote>\n<p>字体显示问题（NERD FONT）：<a href=\"https://github.com/romkatv/nerd-fonts#option-5-clone-the-repo\" target=\"_blank\">romkatv/nerd-fonts: Iconic font aggregator, collection, &amp; patcher. 3,600+ icons, 50+ patched fonts: Hack, Source Code Pro, more. Glyph collections: Font Awesome, Material Design Icons, Octicons, &amp; more</a></p>\n<p>静默覆盖文件：yes | cp -rf xxx xxx</p>\n</blockquote>\n</li>\n<li>\n<p>重新打开一个会话窗口 Restart zsh (such as by opening a new instance of your terminal emulator).</p>\n</li>\n</ol>\n<h3 id=\"配置-node-环境\">配置 Node 环境<a title=\"#配置-node-环境\" href=\"#配置-node-环境\"></a></h3>\n<h3 id=\"配置-java-环境\">配置 Java 环境<a title=\"#配置-java-环境\" href=\"#配置-java-环境\"></a></h3>\n<ol>\n<li>\n<p>安装 openjdk</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install openjdk-11-jdk</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>安装 jdk 报错的话</p>\n<p>The following packages have unmet dependencies:<br>\ndebianutils : Breaks: x11-common (&lt; 1:7.7+23~) but 1:7.7+19ubuntu14 is to be installed<br>\nlibglx-mesa0 : Depends: libx11-xcb1 (&gt;= 2:1.6.9) but it is not installable<br>\nE: Error, pkgProblemResolver::Resolve generated breaks, this may be caused by held packages.</p>\n<p>解决：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install libx11-xcb1</span><br><span class=\"line\">sudo apt install libglx-mesa0</span><br></pre></td></tr></table></figure>\n<p>还是提示</p>\n<p>The following packages have unmet dependencies:<br>\ndebianutils : Breaks: x11-common (&lt; 1:7.7+23~) but 1:7.7+19ubuntu14 is to be installed<br>\nE: Error, pkgProblemResolver::Resolve generated breaks, this may be caused by held packages.</p>\n<p>使用一个强大的包管理工具</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo apt install aptitude</span><br><span class=\"line\"><span class=\"comment\"># debianutils 版本太新了，根据提示选 n 不保留当前版本，把 debianutils 降级</span></span><br><span class=\"line\">$ sudo aptitude install x11-common</span><br><span class=\"line\"></span><br><span class=\"line\">The following NEW packages will be installed:</span><br><span class=\"line\">  x11-common</span><br><span class=\"line\">0 packages upgraded, 1 newly installed, 0 to remove and 0 not upgraded.</span><br><span class=\"line\">Need to get 22.3 kB of archives. After unpacking 321 kB will be used.</span><br><span class=\"line\">The following packages have unmet dependencies:</span><br><span class=\"line\"> debianutils : Breaks: x11-common (&lt; 1:7.7+23~) but 1:7.7+19ubuntu14 is to be installed</span><br><span class=\"line\">The following actions will resolve these dependencies:</span><br><span class=\"line\"></span><br><span class=\"line\">     Keep the following packages at their current version:</span><br><span class=\"line\">1)     x11-common [Not Installed]</span><br><span class=\"line\"></span><br><span class=\"line\">Accept this solution? [Y/n/q/?] n</span><br><span class=\"line\">The following actions will resolve these dependencies:</span><br><span class=\"line\"></span><br><span class=\"line\">     Downgrade the following packages:</span><br><span class=\"line\">1)     debianutils [5.5-1ubuntu2 (now) -&gt; 4.9.1 (focal)]</span><br><span class=\"line\"></span><br><span class=\"line\">Accept this solution? [Y/n/q/?] Y</span><br><span class=\"line\">The following packages will be DOWNGRADED:</span><br><span class=\"line\">  debianutils</span><br><span class=\"line\">The following NEW packages will be installed:</span><br><span class=\"line\">  x11-common</span><br><span class=\"line\">0 packages upgraded, 1 newly installed, 1 downgraded, 0 to remove and 0 not upgraded.</span><br><span class=\"line\">Need to get 108 kB of archives. After unpacking 307 kB will be used.</span><br><span class=\"line\">Do you want to <span class=\"built_in\">continue</span>? [Y/n/?] Y</span><br><span class=\"line\">Get: 1 https://mirrors.tuna.tsinghua.edu.cn/ubuntu focal/main amd64 debianutils amd64 4.9.1 [85.8 kB]</span><br><span class=\"line\">Get: 2 https://mirrors.tuna.tsinghua.edu.cn/ubuntu focal/main amd64 x11-common all 1:7.7+19ubuntu14 [22.3 kB]</span><br><span class=\"line\">Fetched 108 kB <span class=\"keyword\">in</span> 1s (94.5 kB/s)</span><br><span class=\"line\">dpkg: warning: downgrading debianutils from 5.5-1ubuntu2 to 4.9.1</span><br><span class=\"line\">(Reading database ... 36541 files and directories currently installed.)</span><br><span class=\"line\">Preparing to unpack .../debianutils_4.9.1_amd64.deb ...</span><br><span class=\"line\">Unpacking debianutils (4.9.1) over (5.5-1ubuntu2) ...</span><br><span class=\"line\">Setting up debianutils (4.9.1) ...</span><br><span class=\"line\">Selecting previously unselected package x11-common.</span><br><span class=\"line\">(Reading database ... 36537 files and directories currently installed.)</span><br><span class=\"line\">Preparing to unpack .../x11-common_1%3a7.7+19ubuntu14_all.deb ...</span><br><span class=\"line\">dpkg-query: no packages found matching nux-tools</span><br><span class=\"line\">Unpacking x11-common (1:7.7+19ubuntu14) ...</span><br><span class=\"line\">Setting up x11-common (1:7.7+19ubuntu14) ...</span><br><span class=\"line\">update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults</span><br><span class=\"line\">invoke-rc.d: could not determine current runlevel</span><br><span class=\"line\">Processing triggers <span class=\"keyword\">for</span> man-db (2.10.2-1) ...</span><br><span class=\"line\">Scanning processes...</span><br><span class=\"line\">Scanning processor microcode...</span><br><span class=\"line\">Scanning linux images...</span><br><span class=\"line\"></span><br><span class=\"line\">Failed to retrieve available kernel versions.</span><br><span class=\"line\"></span><br><span class=\"line\">Failed to check <span class=\"keyword\">for</span> processor microcode upgrades.</span><br><span class=\"line\"></span><br><span class=\"line\">No services need to be restarted.</span><br><span class=\"line\"></span><br><span class=\"line\">No containers need to be restarted.</span><br><span class=\"line\"></span><br><span class=\"line\">No user sessions are running outdated binaries.</span><br><span class=\"line\"></span><br><span class=\"line\">No VM guests are running outdated hypervisor (qemu) binaries on this host.</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p>安装 Maven</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install maven -Y</span><br><span class=\"line\">mkdir ~/.m2 &amp;&amp; cp -r /usr/share/maven/conf/settings.xml ~/.m2/settings.xml</span><br></pre></td></tr></table></figure>\n<p>修改 settings 的中央仓库：<a href=\"https://developer.aliyun.com/mvn/guide\" target=\"_blank\">阿里云云效仓库服务</a></p>\n</li>\n</ol>\n<h2 id=\"question\">Question<a title=\"#question\" href=\"#question\"></a></h2>\n<ol>\n<li>\n<p>查看当前 Shell 环境</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$0</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><code>history | grep &quot;git clone&quot;</code>这个命令就能找到近期 clone 了哪些库，省却了写一堆代码的功夫。</p>\n</li>\n<li>\n<p>给 root 用户设置密码</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo passwd root</span><br><span class=\"line\">su root <span class=\"comment\"># 切换到 root 用户</span></span><br><span class=\"line\">usermod -aG sudo xxx <span class=\"comment\"># 给 xxx 用户赋予 root 权限</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>获取 WSL 动态 IP</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 获取 WSL IP，用于下面临时 v2ray 代理</span></span><br><span class=\"line\">ip route | grep default | awk <span class=\"string\">&#x27;&#123;print $3&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>示例：curl -x socks5://$(ip route | grep default | awk ‘{print $3}’):10808 <a href=\"https://bootstrap.pypa.io/get-pip.py\">https://bootstrap.pypa.io/get-pip.py</a> -o <a href=\"http://get-pip.py\">get-pip.py</a></p>\n</li>\n</ol>\n","prev":{"title":"Hello World","link":"2022/11/16/hello-world"},"next":{"title":"IDEA 远程一键部署 SpringBoot 到 Docker","link":"2022/05/20/IDEA-远程一键部署-SpringBoot-到-Docker"},"plink":"https://blog.liumulin.top/2022/11/16/Ubuntu-开发环境配置/","toc":[{"id":"ubuntu-开发环境配置","title":"Ubuntu 开发环境配置","index":"1","children":[{"id":"dev-on-windows-with-wsl","title":"Dev on Windows with WSL","index":"1.1"},{"id":"配置-shell-基础环境","title":"配置 Shell 基础环境","index":"1.2"},{"id":"安装-mackup-备份还原-dotfiles-配置","title":"安装 mackup 备份还原 dotfiles 配置","index":"1.3","children":[{"id":"安装-oh-my-zsh-插件","title":"安装 oh-my-zsh 插件","index":"1.3.1"},{"id":"配置-node-环境","title":"配置 Node 环境","index":"1.3.2"},{"id":"配置-java-环境","title":"配置 Java 环境","index":"1.3.3"}]},{"id":"question","title":"Question","index":"1.4"}]}],"reward":true,"copyright":{"custom":"不许转载😡！！！"}}