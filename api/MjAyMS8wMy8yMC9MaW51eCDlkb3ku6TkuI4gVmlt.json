{"title":"Linux 命令与 Vim","date":"2021-03-20T08:41:29.000Z","date_formatted":{"ll":"2021年3月20日","L":"2021/03/20","MM-DD":"03-20"},"link":"2021/03/20/Linux 命令与 Vim","comments":true,"updated":"2022-11-16T02:30:28.832Z","content":"<h1 id=\"linux-命令与-vim\">Linux 命令与 Vim<a title=\"#linux-命令与-vim\" href=\"#linux-命令与-vim\"></a></h1>\n<h3 id=\"linux-命令\">Linux 命令<a title=\"#linux-命令\" href=\"#linux-命令\"></a></h3>\n<p><a href=\"https://linuxtools-rst.readthedocs.io/zh_CN/latest/index.html\" target=\"_blank\">Linux工具快速教程 — Linux Tools Quick Tutorial</a></p>\n<blockquote>\n<p>GitHub：服务器配置 <a href=\"https://gist.github.com/search?o=desc&amp;q=.bashrc&amp;s=stars\">https://gist.github.com/search?o=desc&amp;q=.bashrc&amp;s=stars</a></p>\n</blockquote>\n<h4 id=\"常见的自带命令\">常见的自带命令<a title=\"#常见的自带命令\" href=\"#常见的自带命令\"></a></h4>\n<div class=\"φbt\"><div class=\"φbv\"><table><thead>\n<tr>\n<th>** 操作 **</th>\n<th>** 命令 **</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>进入目录</td>\n<td>cd</td>\n</tr>\n<tr>\n<td>显示当前目录</td>\n<td>pwd</td>\n</tr>\n<tr>\n<td>创建目录</td>\n<td>mkdir 目录名</td>\n</tr>\n<tr>\n<td>创建目录</td>\n<td>mkdir -p 目录路径</td>\n</tr>\n<tr>\n<td>我是谁</td>\n<td>whoami</td>\n</tr>\n<tr>\n<td>–</td>\n<td>–</td>\n</tr>\n<tr>\n<td>查看路径</td>\n<td>ls 路径</td>\n</tr>\n<tr>\n<td>查看路径</td>\n<td>ls -a 路径</td>\n</tr>\n<tr>\n<td>查看路径</td>\n<td>ls -l 路径</td>\n</tr>\n<tr>\n<td>查看路径</td>\n<td>ls -al 路径</td>\n</tr>\n<tr>\n<td>–</td>\n<td>–</td>\n</tr>\n<tr>\n<td>创建文件 / 覆盖原有文件</td>\n<td>echo “1” &gt; 文件路径</td>\n</tr>\n<tr>\n<td>强制创建文件</td>\n<td>echo “1” &gt;! 文件路径</td>\n</tr>\n<tr>\n<td>追加文件内容</td>\n<td>echo “1” &gt;&gt; 文件路径</td>\n</tr>\n<tr>\n<td>创建文件</td>\n<td>touch 文件名</td>\n</tr>\n<tr>\n<td>改变文件更新时间</td>\n<td>touch 文件名</td>\n</tr>\n<tr>\n<td>–</td>\n<td>–</td>\n</tr>\n<tr>\n<td>复制文件</td>\n<td>cp 源路径 目标路径</td>\n</tr>\n<tr>\n<td>复制目录</td>\n<td>cp -r 源路径 目标路径</td>\n</tr>\n<tr>\n<td>–</td>\n<td>–</td>\n</tr>\n<tr>\n<td>移动节点</td>\n<td>mv 源路径 目标路径</td>\n</tr>\n<tr>\n<td>–</td>\n<td>–</td>\n</tr>\n<tr>\n<td>删除文件</td>\n<td>rm 文件路径</td>\n</tr>\n<tr>\n<td>强制删除文件</td>\n<td>rm -f 文件路径</td>\n</tr>\n<tr>\n<td>删除目录</td>\n<td>rm -r 目录路径</td>\n</tr>\n<tr>\n<td>强制删除目录</td>\n<td>rm -rf 目录路径</td>\n</tr>\n<tr>\n<td>–</td>\n<td>–</td>\n</tr>\n<tr>\n<td>查看目录结构</td>\n<td>tree</td>\n</tr>\n<tr>\n<td>建立软链接</td>\n<td>ln -s 真实文件 链接</td>\n</tr>\n<tr>\n<td>–</td>\n<td>–</td>\n</tr>\n<tr>\n<td>下载文件</td>\n<td>curl -L <a href=\"https://www.baidu.com/\" target=\"_blank\">https://www.baidu.com</a> &gt; baidu.html</td>\n</tr>\n<tr>\n<td>拷贝网页</td>\n<td>wget -p -H -e robots=off <a href=\"https://www.baidu.com/\" target=\"_blank\">https://www.baidu.com</a> (Windows 不支持 wget)</td>\n</tr>\n<tr>\n<td>磁盘占用</td>\n<td>df -kh</td>\n</tr>\n<tr>\n<td>当前目录大小</td>\n<td>du -sh .</td>\n</tr>\n<tr>\n<td>各文件大小</td>\n<td>du -h</td>\n</tr>\n</tbody>\n</table></div></div><blockquote>\n<p>Google: Linux 查看文件内容</p>\n<p>Linux 命令：<a href=\"https://explainshell.com/\">https://explainshell.com/</a>\t只展示精选命令 <a href=\"https://github.com/tldr-pages/tldr\">https://github.com/tldr-pages/tldr</a></p>\n</blockquote>\n<h4 id=\"快捷键\">快捷键<a title=\"#快捷键\" href=\"#快捷键\"></a></h4>\n<ul>\n<li>\n<p><kbd>↑</kbd> <kbd>↓</kbd> 上一命令 / 下一命令</p>\n</li>\n<li>\n<p><kbd>!</kbd> 上一命令占位符</p>\n</li>\n<li>\n<p><kbd>Tab</kbd> 自动补全路径</p>\n</li>\n<li>\n<p><kbd>Alt</kbd>+<kbd>.</kbd> 上一命令的最后一个参数</p>\n</li>\n<li>\n<p>&amp;&amp; 前面的执行成功了，再执行后面的</p>\n</li>\n<li>\n<p>|| 前面的执行失败了，就执行后面的</p>\n</li>\n<li>\n<p>; 前面执行完了，不管成功失败，就执行后面的</p>\n</li>\n<li>\n<p>&gt; 重定向</p>\n</li>\n<li>\n<p>| 管道</p>\n</li>\n</ul>\n<h3 id=\"vim\">Vim<a title=\"#vim\" href=\"#vim\"></a></h3>\n<h4 id=\"如何学习-vim\">如何学习 vim<a title=\"#如何学习-vim\" href=\"#如何学习-vim\"></a></h4>\n<ol>\n<li>\n<p>在命令行输入 vimtutor ，即可查看官方自带的中文教程</p>\n</li>\n<li>\n<p><a href=\"http://coolshell.cn/articles/5426.html\" target=\"_blank\">简明 VIM 练级攻略</a></p>\n</li>\n<li>\n<p><a href=\"https://vim-adventures.com/\" target=\"_blank\">一个 vim 游戏</a></p>\n</li>\n</ol>\n<h4 id=\"命令\">命令<a title=\"#命令\" href=\"#命令\"></a></h4>\n<p>技巧：Vim 的纵向编辑模式：<a href=\"https://www.ibm.com/developerworks/cn/linux/l-cn-vimcolumn/index.html\">https://www.ibm.com/developerworks/cn/linux/l-cn-vimcolumn/index.html</a></p>\n<ol>\n<li>\n<p>Vim 分为一个 operation 和一个 motion</p>\n</li>\n<li>\n<p>i 写入模式、i 插入之前、a 插入之后、A 行尾插入、I 行首插入、o 下行插入、O 上行插入 x 删除光标后一个字符，u 是撤销 U、Ctrl+r<br>\nd + ←→删除光标←→字符（d +3←）、dd 删除一行（其实是剪切，p 粘贴）<br>\ny+ ←→复制光标←→字符 （y+3←）</p>\n<p>db/dw/de/x</p>\n<p>剪切括号等内的内容（进入插入模式）：<kbd>ci”</kbd><kbd>ci’</kbd><kbd>ci [</kbd><kbd>ci (</kbd></p>\n<p>剪切括号等内的内容：dt”、di”、diw</p>\n<p>剪切括号等内的内容：yi”</p>\n<p>剪切到制定字符：c/d/y f% s</p>\n<p>c 删除并进入写入模式、w 光标向下移动一个词、cw 删除一个词并进入写入模式、b 光标到上一个词 、ciw 词中删除一个词并进入写入模式，yi</p>\n<blockquote>\n<p>ci&quot; - change inside double quotes</p>\n<p>ci) - change inside curved brackets</p>\n<p>ci} - change inside curly brackets</p>\n</blockquote>\n<p>f：找当前行的词</p>\n<p>/ 搜索、n 下 N 上</p>\n<p>(n) p/P：粘贴 n 行</p>\n</li>\n<li>\n<p>移到行首：^</p>\n</li>\n<li>\n<p>移到行尾：$</p>\n</li>\n<li>\n<p>多行缩进：/10,100&gt;</p>\n</li>\n<li>\n<p>V 选区 v 反选：之后 y、p、d</p>\n<p>选中直至末尾：v$；并插入</p>\n<p>删除整页：VGd</p>\n<p>v 选区后，Alt+j 选择并替换</p>\n</li>\n<li>\n<p>【y i c d f 】<br>\nesc 回到正常模式<br>\n：w 保存<br>\n：q 退出 vim<br>\n：source $MYVIMRC 刷新 vim<br>\njkhl 上下左右<br>\n：split 上下分屏 、：vsplit 左右分屏 Q 退出</p>\n<p>config: ~/.vim/vimrc</p>\n<p>let mapleader=&quot; &quot; &quot; 将leader键（\\键,类似于Windows键）换成空格（相当于空格键）<br>\nsyntax on &quot; 开启语法高亮<br>\nset number &quot; 显示行号<br>\nset relativenumber &quot; 显示从当前行数的前后行数<br>\nset cursorline &quot; 高亮显示当前行<br>\nset wrap &quot; 自动换行<br>\nset showcmd &quot; 显示指令<br>\nset wildmenu &quot; vim 命令行命令补全<br>\nset hlsearch &quot; 高亮显示搜索<br>\nset incsearch &quot; 动态高亮搜索&quot;<br>\nset smartcase &quot; 智能大小写搜索<br>\nset ignorecase &quot; 忽略大小写</p>\n<p>exec “nohlsearch” &quot; 打开是运行指令 取消上回搜索内容的高亮&quot;noremap a b &quot; 将 a 替换为 b<br>\n&quot;noremap A 5b &quot; 将 A 替换为 5b<br>\n&quot;noremap = nzz &quot; 将 n 替换为 =zz &quot; 用 zz 将该行变成中心点<br>\n&quot;noremap - Nzz &quot; 将 N 替换为 -zz<br>\nnoremap <LEADER><CR> :nohlearch<CR> &quot; 将 <LEADER><CR> 替换为 :nohlearch<CR> 用于快捷取消搜索高亮</p>\n<p>map s <nop>  &quot; 将 s 的指令设置为空<br>\nmap S :w<CR> &quot; 将 S 的指令设置成 :w  “ <CR> 代表回车<br>\nmap Q :q<CR> &quot; 将 Q 的指令设置成 :q<br>\nmap R :source $MYVIMRC<CR> &quot; 将 R 的指令设置成 重载vimrc配置</p>\n<p>&quot;:split  &quot; 上下分屏 :q 退出<br>\n&quot;:vsplit &quot; 左右分屏</p>\n<p>&quot; &lt;Operation(操作)&gt; &lt;Motion(动作)&gt;<br>\n&quot; d 剪切操作(剪切可看做删除), y 复制操作, p 粘贴操作， c 剪切后修改操作<br>\n&quot; ← 左动作， → 右动作， 3← 3个左动作， b 选择光标开启到上一个词后的内容， i 指明光标在词中，当前词待操作， w 选择光标开始到下个词前的内容， iw 在当前词之间选择该， y3← 向右复制， f 查找动作</p>\n</li>\n</ol>\n<h4 id=\"插件\">插件<a title=\"#插件\" href=\"#插件\"></a></h4>\n<p>插件管理工具：<a href=\"https://github.com/junegunn/vim-plug\" target=\"_blank\">junegunn/vim-plug: Minimalist Vim Plugin Manager</a></p>\n<p>example: add below to .vimrc</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">call</span> plug#begin(<span class=\"string\">&#x27;~/.vim/plugged&#x27;</span>)</span><br><span class=\"line\">Plug <span class=\"string\">&#x27;connorholyday/vim-snazzy&#x27;</span></span><br><span class=\"line\">Plug <span class=\"string\">&#x27;vim-airline/vim-airline&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">call</span> plug#end()</span><br></pre></td></tr></table></figure>\n<p>:PlugInstall</p>\n<p>Google：best vim/idea/vscode config github 找到</p>\n<p>vim plugin site:github.com</p>\n<p>github：</p>\n<ul>\n<li>vim-plug</li>\n<li>snazzy</li>\n</ul>\n<!-- 待整理 -->\n<h2 id=\"批量插入\">批量插入<a title=\"#批量插入\" href=\"#批量插入\"></a></h2>\n<p>VISUAL 批量选中模式下（<kbd>gg</kbd> - <kbd>V</kbd> - <kbd>G</kbd>），:‘&lt;,’&gt;normal Imy-wallpaper-，就会进入 normal 模式，批量在最前面加上 my-wallpaper-</p>\n<p>此时我突然不想加前缀 my-，先进入可视块 VISUAL BLOCK 模式（<kbd>Ctrl</kbd> + <kbd>v</kbd> - <kbd>G</kbd>），<kbd>f</kbd> - <kbd>-</kbd> - <kbd>d</kbd>，删除成功。<br>\n突然我又看 wallpaper 单词不顺眼，想批量把首字母 w 改为大写，依次输入 <kbd>Ctrl</kbd> + <kbd>v</kbd> - <kbd>G</kbd> - <kbd>g</kbd> - <kbd>U</kbd></p>\n<blockquote>\n<p>gu：切换为小写<br>\ngU：切换为大写<br>\ng~：大小写切换</p>\n<p>H    移到屏幕顶部,high<br>\nM    移到屏幕中央,middle<br>\nL    移到屏幕底部,low</p>\n</blockquote>\n<p>:e ~/.vimrc：vim normal 模式下编辑文件</p>\n<h3 id=\"vim-删除当前屏内容命令\">vim 删除当前屏内容命令<a title=\"#vim-删除当前屏内容命令\" href=\"#vim-删除当前屏内容命令\"></a></h3>\n<p><kbd>HVLd</kbd></p>\n<h3 id=\"正则给-markdown-文件批量添加-&lt;kbd&gt;-符号\">正则给 markdown 文件批量添加 <kbd> 符号<a title=\"#正则给-markdown-文件批量添加-&lt;kbd&gt;-符号\" href=\"#正则给-markdown-文件批量添加-&lt;kbd&gt;-符号\"></a></h3>\n<h3 id=\"多行折叠为一行\">多行折叠为一行<a title=\"#多行折叠为一行\" href=\"#多行折叠为一行\"></a></h3>\n<p>wget<br>\nvim<br>\ntouch</p>\n<p>vim command:<br>\nIn command mode:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[range]j[lines]</span><br></pre></td></tr></table></figure>\n<p>For example: here you want to do the whole buffer:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">%j</span><br></pre></td></tr></table></figure>\n<p>If you just wanted to do 10 lines from the current cursor position:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">j10</span><br></pre></td></tr></table></figure>\n<p>If you don’t want to replace the new lines with spaces, use ! after j.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">%j!</span><br><span class=\"line\">j!10</span><br></pre></td></tr></table></figure>\n<p>And for the uberfancy:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">5j20</span><br></pre></td></tr></table></figure>\n<p>It would go to line 5, and join the next 20 lines.</p>\n<h3 id=\"vim-tricks\">Vim Tricks<a title=\"#vim-tricks\" href=\"#vim-tricks\"></a></h3>\n<p><a href=\"https://www.hillelwayne.com/post/intermediate-vim/\" target=\"_blank\">At least one Vim trick you might not know • Hillel Wayne</a></p>\n<p>&quot; Toggle Spelling Check with <space>sc<br>\n&quot; &lt;z=&gt; 智能修改单词<br>\nmap <LEADER>sc :set spell!<CR><br>\nnoremap <C-x> bea<C-x>s<br>\ninoremap <C-x> <Esc>ea<C-x>s</p>\n<p>Ctrl+o: back to pre edit place<br>\nCtrl+i: back to last edit place</p>\n<p>gf: go to file<br>\nCtrl+o: back to pre edit place</p>\n<p>:%TOhtml: vim convert file to html</p>\n<p>var name=‘lin’<br>\nvar name=‘lin’<br>\nvar name=‘lin’</p>\n<blockquote>\n<p>into vim block mode, 3j :‘&lt;,’&gt;norm cs’&quot;<br>\ninto vim vusual mode, V2j :‘&lt;,’&gt;norm cs’&quot;</p>\n</blockquote>\n<p>gs: toggle code true/false</p>\n<p>:w !wl-copy: copy file enable</p>\n<ol>\n<li>\n<p>对齐符号</p>\n<blockquote>\n<p>set mouse=a<br>\nset encoding=utf-8<br>\nset clipboard=unnamed<br>\n:‘&lt;,’&gt;Tabularize /=<br>\nr: 调出执行 python 代码<br>\nsi | :term: split window and open new terminal</p>\n</blockquote>\n<p>录制宏，代码块格式化等号，可以用 map 更改为快捷键<br>\nqaV}:‘&lt;,’&gt;Tabularize /=</p>\n<p>SimpleFold 插件：<leader>o<br>\n?tagbar : shift+t<br>\nvim-signature: 书签. ma: mark ‘a’ bookmark. <space> to next marked place<br>\nsemshi: 高亮当前光标所在的所有单词<br>\ncoc: 重构改变量名: <space>rn<br>\nFar.vim: 搜索代码 <space>f<br>\nFZF: Ctrl+p 跳转文件（文件搜索最强）<br>\nNERDTree: tt 文件目录列表<br>\nvim-table-mode: <space>tm 开启 markdown 自动排版<br>\nvim-startify: 进入最近编辑的文件<br>\nvim-multiple-cursor: 快速选中多行编辑<br>\nwildfire.vim: 类似于 vscode 的 Ctrl+w 选中单词<br>\nthesaurus_query: 近义词插件<br>\nStartify: 进入编辑器显示东西用的<br>\nemmet: 快速写 HTML 插件<br>\nBullets.vim: 文件中列表累加</p>\n<p>:help NERDTree: 查看插件文档</p>\n<p>ranger:<br>\nS: go to path</p>\n<p>Shift+m: mkdir. create a directory</p>\n<p>Shift+v: touch a file</p>\n<p>cw: rename, 可以用 vim 操作，A 在文件末尾修改</p>\n<p>[: folder switch</p>\n<p>v: select all file</p>\n<p>dU: check file/folder size</p>\n<p>dD: 删除文件夹</p>\n<p>w: task manager</p>\n<p>dd: cancel opration</p>\n<p>c: compress</p>\n<p>X: extract here</p>\n<p>ct: convert to pdf</p>\n<p>ydv: youtube download</p>\n<p>zh: show dotfiles</p>\n</li>\n</ol>\n","prev":{"title":"HTML","link":"2021/03/20/HTML"},"next":{"title":"JS","link":"2021/03/19/JS"},"plink":"https://blog.liumulin.top/2021/03/20/Linux 命令与 Vim/","toc":[{"id":"linux-命令与-vim","title":"Linux 命令与 Vim","index":"1","children":[{"id":"linux-命令","title":"Linux 命令","index":"1.1"},{"id":"vim","title":"Vim","index":"1.2"}]},{"id":"批量插入","title":"批量插入","index":"2","children":[{"id":"vim-删除当前屏内容命令","title":"vim 删除当前屏内容命令","index":"2.1"},{"id":"正则给-markdown-文件批量添加-&lt;kbd&gt;-符号","title":"正则给 markdown 文件批量添加  符号","index":"2.2"},{"id":"多行折叠为一行","title":"多行折叠为一行","index":"2.3"},{"id":"vim-tricks","title":"Vim Tricks","index":"2.4"}]}],"reward":true,"copyright":{"custom":"不许转载😡！！！"}}