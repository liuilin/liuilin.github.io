{"title":"MySQLç»ƒä¹ ","date":"2021-03-09T15:13:51.000Z","date_formatted":{"ll":"2021å¹´3æœˆ9æ—¥","L":"2021/03/09","MM-DD":"03-09"},"link":"2021/03/09/MySQLç»ƒä¹ ","comments":true,"updated":"2022-11-16T02:30:28.833Z","content":"<h2 id=\"mysqlç»ƒä¹ \">MySQLç»ƒä¹ <a title=\"#mysqlç»ƒä¹ \" href=\"#mysqlç»ƒä¹ \"></a></h2>\n<h3 id=\"æ•°æ®åº“åˆå§‹åŒ–\">æ•°æ®åº“åˆå§‹åŒ–<a title=\"#æ•°æ®åº“åˆå§‹åŒ–\" href=\"#æ•°æ®åº“åˆå§‹åŒ–\"></a></h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">drop</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">exists</span> t_score;</span><br><span class=\"line\"><span class=\"keyword\">drop</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">exists</span> t_courses;</span><br><span class=\"line\"><span class=\"keyword\">drop</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">exists</span> t_students;</span><br><span class=\"line\"><span class=\"keyword\">drop</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">exists</span> t_teachers;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å­¦ç”Ÿè¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `Student`(</span><br><span class=\"line\">    `s_id` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>),</span><br><span class=\"line\">    `s_name` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">    `s_birth` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">    `s_sex` <span class=\"type\">VARCHAR</span>(<span class=\"number\">10</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">    <span class=\"keyword\">PRIMARY</span> KEY(`s_id`)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">-- è¯¾ç¨‹è¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `Course`(</span><br><span class=\"line\">    `c_id`  <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>),</span><br><span class=\"line\">    `c_name` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">    `t_id` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">    <span class=\"keyword\">PRIMARY</span> KEY(`c_id`)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">-- æ•™å¸ˆè¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `Teacher`(</span><br><span class=\"line\">    `t_id` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>),</span><br><span class=\"line\">    `t_name` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">    <span class=\"keyword\">PRIMARY</span> KEY(`t_id`)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">-- æˆç»©è¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `Score`(</span><br><span class=\"line\">    `s_id` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>),</span><br><span class=\"line\">    `c_id`  <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>),</span><br><span class=\"line\">    `s_score` <span class=\"type\">INT</span>(<span class=\"number\">3</span>),</span><br><span class=\"line\">    <span class=\"keyword\">PRIMARY</span> KEY(`s_id`,`c_id`)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">-- æ’å…¥å­¦ç”Ÿè¡¨æµ‹è¯•æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Student <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;01&#x27;</span> , <span class=\"string\">&#x27;èµµé›·&#x27;</span> , <span class=\"string\">&#x27;1990-01-01&#x27;</span> , <span class=\"string\">&#x27;ç”·&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Student <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;02&#x27;</span> , <span class=\"string\">&#x27;é’±ç”µ&#x27;</span> , <span class=\"string\">&#x27;1990-12-21&#x27;</span> , <span class=\"string\">&#x27;ç”·&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Student <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;03&#x27;</span> , <span class=\"string\">&#x27;å­™é£&#x27;</span> , <span class=\"string\">&#x27;1990-05-20&#x27;</span> , <span class=\"string\">&#x27;ç”·&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Student <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;04&#x27;</span> , <span class=\"string\">&#x27;æäº‘&#x27;</span> , <span class=\"string\">&#x27;1990-08-06&#x27;</span> , <span class=\"string\">&#x27;ç”·&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Student <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;05&#x27;</span> , <span class=\"string\">&#x27;å‘¨æ¢…&#x27;</span> , <span class=\"string\">&#x27;1991-12-01&#x27;</span> , <span class=\"string\">&#x27;å¥³&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Student <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;06&#x27;</span> , <span class=\"string\">&#x27;å´å…°&#x27;</span> , <span class=\"string\">&#x27;1992-03-01&#x27;</span> , <span class=\"string\">&#x27;å¥³&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Student <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;07&#x27;</span> , <span class=\"string\">&#x27;éƒ‘ç«¹&#x27;</span> , <span class=\"string\">&#x27;1989-07-01&#x27;</span> , <span class=\"string\">&#x27;å¥³&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Student <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;08&#x27;</span> , <span class=\"string\">&#x27;ç‹èŠ&#x27;</span> , <span class=\"string\">&#x27;1990-01-20&#x27;</span> , <span class=\"string\">&#x27;å¥³&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">-- è¯¾ç¨‹è¡¨æµ‹è¯•æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Course <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;01&#x27;</span> , <span class=\"string\">&#x27;è¯­æ–‡&#x27;</span> , <span class=\"string\">&#x27;02&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Course <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;02&#x27;</span> , <span class=\"string\">&#x27;æ•°å­¦&#x27;</span> , <span class=\"string\">&#x27;01&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Course <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;03&#x27;</span> , <span class=\"string\">&#x27;è‹±è¯­&#x27;</span> , <span class=\"string\">&#x27;03&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ•™å¸ˆè¡¨æµ‹è¯•æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Teacher <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;01&#x27;</span> , <span class=\"string\">&#x27;å¼ ä¸‰&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Teacher <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;02&#x27;</span> , <span class=\"string\">&#x27;æå››&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Teacher <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;03&#x27;</span> , <span class=\"string\">&#x27;ç‹äº”&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æˆç»©è¡¨æµ‹è¯•æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;01&#x27;</span> , <span class=\"string\">&#x27;01&#x27;</span> , <span class=\"number\">80</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;01&#x27;</span> , <span class=\"string\">&#x27;02&#x27;</span> , <span class=\"number\">90</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;01&#x27;</span> , <span class=\"string\">&#x27;03&#x27;</span> , <span class=\"number\">99</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;02&#x27;</span> , <span class=\"string\">&#x27;01&#x27;</span> , <span class=\"number\">70</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;02&#x27;</span> , <span class=\"string\">&#x27;02&#x27;</span> , <span class=\"number\">60</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;02&#x27;</span> , <span class=\"string\">&#x27;03&#x27;</span> , <span class=\"number\">80</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;03&#x27;</span> , <span class=\"string\">&#x27;01&#x27;</span> , <span class=\"number\">80</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;03&#x27;</span> , <span class=\"string\">&#x27;02&#x27;</span> , <span class=\"number\">80</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;03&#x27;</span> , <span class=\"string\">&#x27;03&#x27;</span> , <span class=\"number\">80</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;04&#x27;</span> , <span class=\"string\">&#x27;01&#x27;</span> , <span class=\"number\">50</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;04&#x27;</span> , <span class=\"string\">&#x27;02&#x27;</span> , <span class=\"number\">30</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;04&#x27;</span> , <span class=\"string\">&#x27;03&#x27;</span> , <span class=\"number\">20</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;05&#x27;</span> , <span class=\"string\">&#x27;01&#x27;</span> , <span class=\"number\">76</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;05&#x27;</span> , <span class=\"string\">&#x27;02&#x27;</span> , <span class=\"number\">87</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;06&#x27;</span> , <span class=\"string\">&#x27;01&#x27;</span> , <span class=\"number\">31</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;06&#x27;</span> , <span class=\"string\">&#x27;03&#x27;</span> , <span class=\"number\">34</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;07&#x27;</span> , <span class=\"string\">&#x27;02&#x27;</span> , <span class=\"number\">89</span>);</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> Score <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;07&#x27;</span> , <span class=\"string\">&#x27;03&#x27;</span> , <span class=\"number\">98</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"ç»ƒä¹ é¢˜\">ç»ƒä¹ é¢˜<a title=\"#ç»ƒä¹ é¢˜\" href=\"#ç»ƒä¹ é¢˜\"></a></h3>\n<ol>\n<li>\n<p>æŸ¥è¯¢&quot;01&quot;è¯¾ç¨‹æ¯”&quot;02&quot;è¯¾ç¨‹æˆç»©é«˜çš„å­¦ç”Ÿçš„ä¿¡æ¯åŠè¯¾ç¨‹åˆ†æ•°</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.stu_id, stu.stu_name, stu.birthday, stu.stu_gender,</span><br><span class=\"line\">    ifnull(sc1.score, 0) as &#39;1è¯¾ç¨‹åˆ†æ•°&#39;, ifnull(sc2.score, 0) as &#39;2è¯¾ç¨‹åˆ†æ•°&#39;</span><br><span class=\"line\">from t_students stu</span><br><span class=\"line\">left join t_score sc1 on stu.stu_id &#x3D; sc1.stu_id and sc1.course_id &#x3D; 1</span><br><span class=\"line\">left join t_score sc2 on stu.stu_id &#x3D; sc2.stu_id and sc2.course_id &#x3D; 2</span><br><span class=\"line\">where ifnull(sc1.score, 0) &gt; ifnull(sc2.score, 0);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢&quot;01&quot;è¯¾ç¨‹æ¯”&quot;02&quot;è¯¾ç¨‹æˆç»©ä½çš„å­¦ç”Ÿçš„ä¿¡æ¯åŠè¯¾ç¨‹åˆ†æ•°</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.stu_id, stu.stu_name, stu.birthday, stu.stu_gender,</span><br><span class=\"line\">    ifnull(sc1.score, 0) as &#39;1è¯¾ç¨‹åˆ†æ•°&#39;, ifnull(sc2.score, 0) as &#39;2è¯¾ç¨‹åˆ†æ•°&#39;</span><br><span class=\"line\">from t_students stu</span><br><span class=\"line\">left join t_score sc1 on stu.stu_id &#x3D; sc1.stu_id and sc1.course_id &#x3D; 1</span><br><span class=\"line\">left join t_score sc2 on stu.stu_id &#x3D; sc2.stu_id and sc2.course_id &#x3D; 2</span><br><span class=\"line\">where ifnull(sc1.score, 0) &lt; ifnull(sc2.score, 0);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºç­‰äº60åˆ†çš„åŒå­¦çš„å­¦ç”Ÿç¼–å·å’Œå­¦ç”Ÿå§“åå’Œå¹³å‡æˆç»©</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.stu_id, stu.stu_name, round(avg(sc.score), 2) as avg_score</span><br><span class=\"line\">from t_students stu</span><br><span class=\"line\">left join t_score sc on stu.stu_id &#x3D; sc.stu_id</span><br><span class=\"line\">group by stu.stu_id, stu.stu_name</span><br><span class=\"line\">having avg_score &gt;&#x3D; 60;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢å¹³å‡æˆç»©å°äº60åˆ†çš„åŒå­¦çš„å­¦ç”Ÿç¼–å·å’Œå­¦ç”Ÿå§“åå’Œå¹³å‡æˆç»©</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.stu_id, stu.stu_name, round(ifnull(avg(sc.score), 0), 2) as avg_score</span><br><span class=\"line\">from t_students stu</span><br><span class=\"line\">left join t_score sc on stu.stu_id &#x3D; sc.stu_id</span><br><span class=\"line\">group by stu.stu_id, stu.stu_name</span><br><span class=\"line\">having avg_score &lt; 60;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢æ‰€æœ‰åŒå­¦çš„å­¦ç”Ÿç¼–å·. å­¦ç”Ÿå§“å. é€‰è¯¾æ€»æ•°. æ‰€æœ‰è¯¾ç¨‹çš„æ€»æˆç»©</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.stu_id, stu.stu_name, </span><br><span class=\"line\">    count(sc.course_id) as &#39;qty_course&#39;, -- é€‰è¯¾æ•°é‡</span><br><span class=\"line\">    ifnull(sum(sc.score), 0) as &#39;sum_score&#39; -- æ€»åˆ†æ•°</span><br><span class=\"line\">from t_students stu</span><br><span class=\"line\">left join t_score sc on stu.stu_id &#x3D; sc.stu_id</span><br><span class=\"line\">group by stu.stu_id, stu.stu_name;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢&quot;æ&quot;å§“è€å¸ˆçš„æ•°é‡</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select count(0) from t_teachers</span><br><span class=\"line\">where teacher_name like &#39;æ%&#39;;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢å­¦è¿‡&quot;å¼ ä¸‰&quot;è€å¸ˆæˆè¯¾çš„åŒå­¦çš„ä¿¡æ¯</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.* from t_students stu</span><br><span class=\"line\">where stu.stu_id in (</span><br><span class=\"line\">    select sc.stu_id from t_score sc</span><br><span class=\"line\">    left join t_courses cou on sc.course_id &#x3D; cou.course_id</span><br><span class=\"line\">    left join t_teachers te on cou.teacher_id &#x3D; te.teacher_id</span><br><span class=\"line\">    where te.teacher_name &#x3D; &#39;è´å‰å¡”&#39;</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢æ²¡å­¦è¿‡&quot;å¼ ä¸‰&quot;è€å¸ˆæˆè¯¾çš„åŒå­¦çš„ä¿¡æ¯</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.* from t_students stu</span><br><span class=\"line\">where stu.stu_id not in (</span><br><span class=\"line\">    select sc.stu_id from t_score sc</span><br><span class=\"line\">    left join t_courses cou on sc.course_id &#x3D; cou.course_id</span><br><span class=\"line\">    left join t_teachers te on cou.teacher_id &#x3D; te.teacher_id</span><br><span class=\"line\">    where te.teacher_name &#x3D; &#39;è´å‰å¡”&#39;</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢å­¦è¿‡ç¼–å·ä¸º&quot;01&quot;å¹¶ä¸”ä¹Ÿå­¦è¿‡ç¼–å·ä¸º&quot;02&quot;çš„è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu_id, stu_name, birthday, stu_gender</span><br><span class=\"line\">from t_students</span><br><span class=\"line\">where stu_id in (</span><br><span class=\"line\">    select stu_id</span><br><span class=\"line\">    from t_score</span><br><span class=\"line\">    where course_id &#x3D; 1)</span><br><span class=\"line\">and stu_id in (</span><br><span class=\"line\">    select stu_id</span><br><span class=\"line\">    from t_score</span><br><span class=\"line\">    where course_id &#x3D; 2);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢å­¦è¿‡ç¼–å·ä¸º&quot;01&quot;ä½†æ˜¯æ²¡æœ‰å­¦è¿‡ç¼–å·ä¸º&quot;02&quot;çš„è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu_id, stu_name, birthday, stu_gender</span><br><span class=\"line\">from t_students</span><br><span class=\"line\">where stu_id in (</span><br><span class=\"line\">    select stu_id</span><br><span class=\"line\">    from t_score</span><br><span class=\"line\">    where course_id &#x3D; 1)</span><br><span class=\"line\">and stu_id not in (</span><br><span class=\"line\">    select stu_id</span><br><span class=\"line\">    from t_score</span><br><span class=\"line\">    where course_id &#x3D; 2);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢æ²¡æœ‰å­¦å…¨æ‰€æœ‰è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select student_id, student_name</span><br><span class=\"line\">from tb_student</span><br><span class=\"line\">where student_id in (</span><br><span class=\"line\">    select stu.student_id</span><br><span class=\"line\">    from tb_student stu</span><br><span class=\"line\">    left join tb_score sc on stu.student_id &#x3D; sc.student_id</span><br><span class=\"line\">    group by student_id</span><br><span class=\"line\">    having count(course_id) &lt; (</span><br><span class=\"line\">        select count(0)</span><br><span class=\"line\">        from tb_course</span><br><span class=\"line\">    )</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢è‡³å°‘æœ‰ä¸€é—¨è¯¾ä¸å­¦å·ä¸º&quot;01&quot;çš„åŒå­¦æ‰€å­¦ç›¸åŒçš„åŒå­¦çš„ä¿¡æ¯</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select * from t_students</span><br><span class=\"line\">where stu_id in (</span><br><span class=\"line\">\tselect stu_id from t_score</span><br><span class=\"line\">\twhere course_id in (</span><br><span class=\"line\">\t\tselect course_id from t_score where stu_id &#x3D; 1</span><br><span class=\"line\">\t) and stu_id !&#x3D; 1</span><br><span class=\"line\">\tgroup by stu_id</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢å’Œ&quot;01&quot;å·çš„åŒå­¦å­¦ä¹ çš„è¯¾ç¨‹å®Œå…¨ç›¸åŒçš„å…¶ä»–åŒå­¦çš„ä¿¡æ¯</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select * from t_students where stu_id in (</span><br><span class=\"line\">\tselect temp.stu_id from (</span><br><span class=\"line\">\t\tselect sc.stu_id, group_concat(crs.course_name) as courses</span><br><span class=\"line\">\t\tfrom t_score sc</span><br><span class=\"line\">\t\tleft join t_courses crs on sc.course_id &#x3D; crs.course_id</span><br><span class=\"line\">\t\tgroup by sc.stu_id</span><br><span class=\"line\">\t) temp where temp.courses &#x3D; (</span><br><span class=\"line\">\t\tselect group_concat(crs.course_name) as courses</span><br><span class=\"line\">\t\tfrom t_score sc</span><br><span class=\"line\">\t\tleft join t_courses crs on sc.course_id &#x3D; crs.course_id</span><br><span class=\"line\">\t\tgroup by sc.stu_id</span><br><span class=\"line\">\t\thaving sc.stu_id &#x3D; 1</span><br><span class=\"line\">\t) and temp.stu_id !&#x3D; 1</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢æ²¡å­¦è¿‡&quot;å¼ ä¸‰&quot;è€å¸ˆè®²æˆçš„ä»»ä¸€é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå§“å</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.stu_name from t_students stu where stu.stu_id not in (</span><br><span class=\"line\">    select sc.stu_id from t_score sc -- å­¦è¿‡è´å‰å¡”æ•™çš„è¯¾çš„å­¦ç”Ÿid</span><br><span class=\"line\">    left join t_courses cou on sc.course_id &#x3D; cou.course_id</span><br><span class=\"line\">    left join t_teachers tc on cou.teacher_id &#x3D; tc.teacher_id</span><br><span class=\"line\">    where tc.teacher_name &#x3D; &#39;è´å‰å¡”&#39;</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢ä¸¤é—¨åŠå…¶ä»¥ä¸Šä¸åŠæ ¼è¯¾ç¨‹çš„åŒå­¦çš„å­¦å·ï¼Œå§“ååŠå…¶å¹³å‡æˆç»©</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.stu_id, stu.stu_name, avg(sc.score)</span><br><span class=\"line\">from t_students stu</span><br><span class=\"line\">left join  t_score sc on stu.stu_id &#x3D; sc.stu_id</span><br><span class=\"line\">group by stu.stu_id, stu.stu_name</span><br><span class=\"line\">having sum(</span><br><span class=\"line\">\tcase </span><br><span class=\"line\">\twhen ifnull(sc.score, 0) &lt; 60 then 1</span><br><span class=\"line\">\telse 0 end</span><br><span class=\"line\">) &gt;&#x3D; 2;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æ£€ç´¢&quot;01&quot;è¯¾ç¨‹åˆ†æ•°å°äº60ï¼ŒæŒ‰åˆ†æ•°é™åºæ’åˆ—çš„å­¦ç”Ÿä¿¡æ¯</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.*, sum(sc.score) as score_sum</span><br><span class=\"line\">from t_students stu</span><br><span class=\"line\">left join t_score sc on stu.stu_id &#x3D; sc.stu_id</span><br><span class=\"line\">where stu.stu_id in (</span><br><span class=\"line\">\tselect stu_id from t_score</span><br><span class=\"line\">\twhere course_id &#x3D; 1 and score &lt; 60</span><br><span class=\"line\">) group by stu.stu_id</span><br><span class=\"line\">order by score_sum desc;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŒ‰å¹³å‡æˆç»©ä»é«˜åˆ°ä½æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿçš„æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ä»¥åŠå¹³å‡æˆç»©</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select stu.stu_id, stu.stu_name,</span><br><span class=\"line\">  ifnull(sc1.score, 0) as yw_score, -- è¯­æ–‡åˆ†æ•°</span><br><span class=\"line\">  ifnull(sc2.score, 0) as sx_score, -- æ•°å­¦åˆ†æ•°</span><br><span class=\"line\">  ifnull(sc3.score, 0) as yy_score, -- è‹±è¯­åˆ†æ•°</span><br><span class=\"line\">  round(ifnull(avg_t.avg_score, 0), 2) as avg_score</span><br><span class=\"line\">from t_students stu</span><br><span class=\"line\">left join t_score sc1 on stu.stu_id &#x3D; sc1.stu_id and sc1.course_id &#x3D; 1 -- è¯­æ–‡æˆç»©è¡¨</span><br><span class=\"line\">left join t_score sc2 on stu.stu_id &#x3D; sc2.stu_id and sc2.course_id &#x3D; 2 -- æ•°å­¦æˆç»©è¡¨</span><br><span class=\"line\">left join t_score sc3 on stu.stu_id &#x3D; sc3.stu_id and sc3.course_id &#x3D; 3 -- è‹±è¯­æˆç»©è¡¨</span><br><span class=\"line\">left join ( -- å­æŸ¥è¯¢, ä¸´æ—¶è¡¨</span><br><span class=\"line\">    select stu_id, avg(score) as avg_score -- å¹³å‡åˆ†</span><br><span class=\"line\">    from t_score</span><br><span class=\"line\">    group by stu_id</span><br><span class=\"line\">    order by avg_score</span><br><span class=\"line\">    ) avg_t on stu.stu_id &#x3D; avg_t.stu_id</span><br><span class=\"line\">order by avg_t.avg_score desc;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŸ¥è¯¢å„ç§‘æˆç»©æœ€é«˜åˆ†. æœ€ä½åˆ†å’Œå¹³å‡åˆ†ï¼šä»¥å¦‚ä¸‹å½¢å¼æ˜¾ç¤ºï¼šè¯¾ç¨‹IDï¼Œè¯¾ç¨‹nameï¼Œæœ€é«˜åˆ†ï¼Œæœ€ä½åˆ†ï¼Œå¹³å‡åˆ†ï¼ŒåŠæ ¼ç‡ï¼Œä¸­ç­‰ç‡ï¼Œä¼˜è‰¯ç‡ï¼Œä¼˜ç§€ç‡ åŠæ ¼ä¸º&gt;=60ï¼Œä¸­ç­‰ä¸ºï¼š70-80ï¼Œä¼˜è‰¯ä¸ºï¼š80-90ï¼Œä¼˜ç§€ä¸ºï¼š&gt;=90</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select sc.course_id, crs.course_name,</span><br><span class=\"line\">    max(sc.score) as max_score,</span><br><span class=\"line\">    min(sc.score) as min_score,</span><br><span class=\"line\">    avg(sc.score) as avg_score,</span><br><span class=\"line\">    sum(sc.score &gt;&#x3D; 60) &#x2F; 8 as pass_per,</span><br><span class=\"line\">    sum(sc.score &gt;&#x3D; 70 and sc.score &lt; 80) &#x2F; 8 as medium_per,</span><br><span class=\"line\">    sum(</span><br><span class=\"line\">    \tcase</span><br><span class=\"line\">    \twhen sc.score &gt;&#x3D; 80 and sc.score &lt; 90 then 1</span><br><span class=\"line\">    \telse 0</span><br><span class=\"line\">    \tend</span><br><span class=\"line\">    ) &#x2F; 8 as good_per,</span><br><span class=\"line\">    sum(</span><br><span class=\"line\">    \tcase</span><br><span class=\"line\">    \twhen sc.score &gt;&#x3D; 90 then 1</span><br><span class=\"line\">    \telse 0</span><br><span class=\"line\">    \tend</span><br><span class=\"line\">    ) &#x2F; 8 as perfect_per</span><br><span class=\"line\">from t_score sc</span><br><span class=\"line\">right join t_courses crs on sc.course_id &#x3D; crs.course_id</span><br><span class=\"line\">group by sc.course_id, crs.course_name;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æŒ‰å„ç§‘æˆç»©è¿›è¡Œæ’åºï¼Œå¹¶æ˜¾ç¤ºæ’å</p>\n</li>\n<li>\n<p>æŸ¥è¯¢å­¦ç”Ÿçš„æ€»æˆç»©å¹¶è¿›è¡Œæ’å</p>\n<ol>\n<li>æŸ¥è¯¢å­¦ç”Ÿçš„æ€»æˆç»©</li>\n<li>æŸ¥è¯¢å­¦ç”Ÿçš„æ€»æˆç»©å¹¶è¿›è¡Œæ’åï¼Œsql 2000ç”¨å­æŸ¥è¯¢å®Œæˆï¼Œåˆ†æ€»åˆ†é‡å¤æ—¶ä¿ç•™åæ¬¡ç©ºç¼ºå’Œä¸ä¿ç•™åæ¬¡ç©ºç¼ºä¸¤ç§ã€‚</li>\n<li>æŸ¥è¯¢å­¦ç”Ÿçš„æ€»æˆç»©å¹¶è¿›è¡Œæ’åï¼Œsql 2005ç”¨rank,DENSE_RANKå®Œæˆï¼Œåˆ†æ€»åˆ†é‡å¤æ—¶ä¿ç•™åæ¬¡ç©ºç¼ºå’Œä¸ä¿ç•™åæ¬¡ç©ºç¼ºä¸¤ç§ã€‚</li>\n</ol>\n</li>\n<li>\n<p>æŸ¥è¯¢ä¸åŒè€å¸ˆæ‰€æ•™ä¸åŒè¯¾ç¨‹å¹³å‡åˆ†ä»é«˜åˆ°ä½æ˜¾ç¤º</p>\n</li>\n<li>\n<p>æŸ¥è¯¢æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ç¬¬2ååˆ°ç¬¬3åçš„å­¦ç”Ÿä¿¡æ¯åŠè¯¥è¯¾ç¨‹æˆç»©</p>\n</li>\n<li>\n<p>ç»Ÿè®¡å„ç§‘æˆç»©å„åˆ†æ•°æ®µäººæ•°ï¼šè¯¾ç¨‹ç¼–å·,è¯¾ç¨‹åç§°,[100-85],[85-70],[70-60],[0-60]åŠæ‰€å ç™¾åˆ†æ¯”</p>\n<ol>\n<li>ç»Ÿè®¡å„ç§‘æˆç»©å„åˆ†æ•°æ®µäººæ•°ï¼šè¯¾ç¨‹ç¼–å·,è¯¾ç¨‹åç§°,[100-85],[85-70],[70-60],[0-60]</li>\n<li>ç»Ÿè®¡å„ç§‘æˆç»©å„åˆ†æ•°æ®µäººæ•°ï¼šè¯¾ç¨‹ç¼–å·,è¯¾ç¨‹åç§°,[100-85],[85-70],[70-60],[&lt;60]åŠæ‰€å ç™¾åˆ†æ¯”</li>\n</ol>\n</li>\n<li>\n<p>æŸ¥è¯¢å­¦ç”Ÿå¹³å‡æˆç»©åŠå…¶åæ¬¡</p>\n<ol>\n<li>æŸ¥è¯¢å­¦ç”Ÿçš„å¹³å‡æˆç»©å¹¶è¿›è¡Œæ’åï¼Œsql 2000ç”¨å­æŸ¥è¯¢å®Œæˆï¼Œåˆ†å¹³å‡æˆç»©é‡å¤æ—¶ä¿ç•™åæ¬¡ç©ºç¼ºå’Œä¸ä¿ç•™åæ¬¡ç©ºç¼ºä¸¤ç§ã€‚</li>\n<li>æŸ¥è¯¢å­¦ç”Ÿçš„å¹³å‡æˆç»©å¹¶è¿›è¡Œæ’åï¼Œsql 2005ç”¨rank,DENSE_RANKå®Œæˆï¼Œåˆ†å¹³å‡æˆç»©é‡å¤æ—¶ä¿ç•™åæ¬¡ç©ºç¼ºå’Œä¸ä¿ç•™åæ¬¡ç©ºç¼ºä¸¤ç§ã€‚</li>\n</ol>\n</li>\n<li>\n<p>æŸ¥è¯¢å„ç§‘æˆç»©å‰ä¸‰åçš„è®°å½•</p>\n<ol>\n<li>åˆ†æ•°é‡å¤æ—¶ä¿ç•™åæ¬¡ç©ºç¼º</li>\n<li>åˆ†æ•°é‡å¤æ—¶ä¸ä¿ç•™åæ¬¡ç©ºç¼ºï¼Œåˆå¹¶åæ¬¡</li>\n</ol>\n</li>\n<li>\n<p>æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹è¢«é€‰ä¿®çš„å­¦ç”Ÿæ•°</p>\n</li>\n<li>\n<p>æŸ¥è¯¢å‡ºåªæœ‰ä¸¤é—¨è¯¾ç¨‹çš„å…¨éƒ¨å­¦ç”Ÿçš„å­¦å·å’Œå§“å</p>\n</li>\n<li>\n<p>æŸ¥è¯¢ç”·ç”Ÿ. å¥³ç”Ÿäººæ•°</p>\n</li>\n<li>\n<p>æŸ¥è¯¢åå­—ä¸­å«æœ‰&quot;é£&quot;å­—çš„å­¦ç”Ÿä¿¡æ¯</p>\n</li>\n<li>\n<p>æŸ¥è¯¢åŒååŒæ€§å­¦ç”Ÿåå•ï¼Œå¹¶ç»Ÿè®¡åŒåäººæ•°</p>\n</li>\n<li>\n<p>æŸ¥è¯¢1990å¹´å‡ºç”Ÿçš„å­¦ç”Ÿåå•</p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT *</span><br><span class=\"line\">FROM t_students</span><br><span class=\"line\">WHERE EXTRACT(YEAR FROM birthday) &#x3D; 1990;</span><br></pre></td></tr></table></figure>\n<ol start=\"32\">\n<li>æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹çš„å¹³å‡æˆç»©ï¼Œç»“æœæŒ‰å¹³å‡æˆç»©é™åºæ’åˆ—ï¼Œå¹³å‡æˆç»©ç›¸åŒæ—¶ï¼ŒæŒ‰è¯¾ç¨‹ç¼–å·å‡åºæ’åˆ—</li>\n<li>æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºç­‰äº85çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·. å§“åå’Œå¹³å‡æˆç»©</li>\n<li>æŸ¥è¯¢è¯¾ç¨‹åç§°ä¸º&quot;æ•°å­¦&quot;ï¼Œä¸”åˆ†æ•°ä½äº60çš„å­¦ç”Ÿå§“åå’Œåˆ†æ•°</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT</span><br><span class=\"line\">  t_students.stu_name,</span><br><span class=\"line\">  t_score.score</span><br><span class=\"line\">FROM t_score</span><br><span class=\"line\">  CROSS JOIN t_courses ON t_score.course_id &#x3D; t_courses.course_id AND t_courses.course_name &#x3D; &#39;æ•°å­¦&#39;</span><br><span class=\"line\">  CROSS JOIN t_students ON t_score.stu_id &#x3D; t_students.stu_id</span><br><span class=\"line\">WHERE score &lt; 60</span><br></pre></td></tr></table></figure>\n<ol start=\"35\">\n<li>æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿçš„è¯¾ç¨‹åŠåˆ†æ•°æƒ…å†µï¼›</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT stu_name,score,course_name FROM t_students</span><br><span class=\"line\">LEFT JOIN t_score ON t_students.stu_id &#x3D; t_score.stu_id</span><br><span class=\"line\">LEFT JOIN t_courses ON t_score.course_id &#x3D; t_courses.course_id;</span><br></pre></td></tr></table></figure>\n<ol start=\"36\">\n<li>æŸ¥è¯¢ä»»ä½•ä¸€é—¨è¯¾ç¨‹æˆç»©åœ¨70åˆ†ä»¥ä¸Šçš„å§“å. è¯¾ç¨‹åç§°å’Œåˆ†æ•°ï¼›</li>\n<li>æŸ¥è¯¢ä¸åŠæ ¼çš„è¯¾ç¨‹</li>\n<li>æŸ¥è¯¢è¯¾ç¨‹ç¼–å·ä¸º01ä¸”è¯¾ç¨‹æˆç»©åœ¨80åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿçš„å­¦å·å’Œå§“åï¼›</li>\n<li>æ±‚æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿäººæ•°</li>\n<li>æŸ¥è¯¢é€‰ä¿®&quot;å¼ ä¸‰&quot;è€å¸ˆæ‰€æˆè¯¾ç¨‹çš„å­¦ç”Ÿä¸­ï¼Œæˆç»©æœ€é«˜çš„å­¦ç”Ÿä¿¡æ¯åŠå…¶æˆç»©\n<ol>\n<li>å½“æœ€é«˜åˆ†åªæœ‰ä¸€ä¸ªæ—¶</li>\n<li>å½“æœ€é«˜åˆ†å‡ºç°å¤šä¸ªæ—¶</li>\n</ol>\n</li>\n<li>æŸ¥è¯¢ä¸åŒè¯¾ç¨‹æˆç»©ç›¸åŒçš„å­¦ç”Ÿçš„å­¦ç”Ÿç¼–å·. è¯¾ç¨‹ç¼–å·. å­¦ç”Ÿæˆç»©</li>\n<li>æŸ¥è¯¢æ¯é—¨åŠŸæˆç»©æœ€å¥½çš„å‰ä¸¤å</li>\n<li>ç»Ÿè®¡æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿé€‰ä¿®äººæ•°ï¼ˆè¶…è¿‡5äººçš„è¯¾ç¨‹æ‰ç»Ÿè®¡ï¼‰ã€‚è¦æ±‚è¾“å‡ºè¯¾ç¨‹å·å’Œé€‰ä¿®äººæ•°ï¼ŒæŸ¥è¯¢ç»“æœæŒ‰äººæ•°é™åºæ’åˆ—ï¼Œè‹¥äººæ•°ç›¸åŒï¼ŒæŒ‰è¯¾ç¨‹å·å‡åºæ’åˆ—</li>\n<li>æ£€ç´¢è‡³å°‘é€‰ä¿®ä¸¤é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå­¦å·</li>\n<li>æŸ¥è¯¢é€‰ä¿®äº†å…¨éƒ¨è¯¾ç¨‹çš„å­¦ç”Ÿä¿¡æ¯</li>\n<li>æŸ¥è¯¢å„å­¦ç”Ÿçš„å¹´é¾„\n<ol>\n<li>åªæŒ‰ç…§å¹´ä»½æ¥ç®—</li>\n<li>æŒ‰ç…§å‡ºç”Ÿæ—¥æœŸæ¥ç®—ï¼Œå½“å‰æœˆæ—¥ &lt; å‡ºç”Ÿå¹´æœˆçš„æœˆæ—¥åˆ™ï¼Œå¹´é¾„å‡ä¸€</li>\n</ol>\n</li>\n<li>æŸ¥è¯¢æœ¬å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</li>\n<li>æŸ¥è¯¢ä¸‹å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</li>\n<li>æŸ¥è¯¢æœ¬æœˆè¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT *</span><br><span class=\"line\">FROM t_students</span><br><span class=\"line\">WHERE EXTRACT(MONTH FROM birthday) &#x3D; EXTRACT(MONTH FROM curdate());</span><br></pre></td></tr></table></figure>\n<ol start=\"50\">\n<li>æŸ¥è¯¢ä¸‹æœˆè¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT *</span><br><span class=\"line\">FROM t_students</span><br><span class=\"line\">WHERE EXTRACT(MONTH FROM birthday) &#x3D; EXTRACT(MONTH FROM curdate()) + 1</span><br><span class=\"line\">      OR EXTRACT(MONTH FROM birthday) &#x3D; 1 AND EXTRACT(MONTH FROM curdate()) &#x3D; 12;</span><br></pre></td></tr></table></figure>","prev":{"title":"è„šæœ¬","link":"2021/03/18/è„šæœ¬"},"next":{"title":"MySQLä¸­çš„ç´¢å¼•","link":"2021/03/09/MySQLä¸­çš„ç´¢å¼•"},"plink":"https://blog.liumulin.top/2021/03/09/MySQLç»ƒä¹ /","toc":[{"id":"mysqlç»ƒä¹ ","title":"MySQLç»ƒä¹ ","index":"1","children":[{"id":"æ•°æ®åº“åˆå§‹åŒ–","title":"æ•°æ®åº“åˆå§‹åŒ–","index":"1.1"},{"id":"ç»ƒä¹ é¢˜","title":"ç»ƒä¹ é¢˜","index":"1.2"}]}],"reward":true,"copyright":{"custom":"ä¸è®¸è½¬è½½ğŸ˜¡ï¼ï¼ï¼"}}